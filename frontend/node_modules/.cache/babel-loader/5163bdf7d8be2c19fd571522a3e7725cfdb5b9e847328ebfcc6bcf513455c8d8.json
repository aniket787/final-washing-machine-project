{"ast":null,"code":"var _jsxFileName = \"/Users/aniketgaikwad011110/Projects/Wash_Machine/project-wash/frontend/src/Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useRef } from \"react\";\nimport SockJS from \"sockjs-client\";\nimport { Client } from \"@stomp/stompjs\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Dashboard() {\n  _s();\n  var _users$find;\n  const [machines, setMachines] = useState([]);\n  const [users, setUsers] = useState([{\n    id: 1,\n    name: \"User1\"\n  }]);\n  const [currentUserId, setCurrentUserId] = useState(1);\n  const clientRef = useRef(null);\n  useEffect(() => {\n    const socket = new SockJS(\"http://localhost:8080/ws\");\n    const client = new Client({\n      webSocketFactory: () => socket,\n      reconnectDelay: 5000,\n      onConnect: () => {\n        client.subscribe(\"/topic/machines\", msg => {\n          try {\n            setMachines(JSON.parse(msg.body));\n          } catch (e) {\n            console.error(\"parse machines\", e);\n          }\n        });\n        client.subscribe(\"/topic/notifications\", msg => {\n          try {\n            const payload = JSON.parse(msg.body);\n            handleNotification(payload);\n          } catch (e) {\n            console.error(\"parse notification\", e);\n          }\n        });\n      }\n    });\n    client.activate();\n    clientRef.current = client;\n    fetchMachines();\n    return () => {\n      if (clientRef.current) clientRef.current.deactivate();\n    };\n  }, []);\n  function fetchMachines() {\n    fetch(\"http://localhost:8080/api/machines\").then(r => r.json()).then(data => setMachines(data)).catch(e => console.error(\"fetch machines\", e));\n  }\n  function remainingSeconds(endTime) {\n    if (!endTime) return 0;\n    const diff = Math.floor(new Date(endTime).getTime() / 1000 - Date.now() / 1000);\n    return diff > 0 ? diff : 0;\n  }\n  function fmtSeconds(totalSec) {\n    if (totalSec <= 0) return \"-\";\n    const mins = Math.floor(totalSec / 60);\n    const secs = totalSec % 60;\n    return `${mins}m ${secs}s`;\n  }\n  function handleNotification(payload) {\n    if (!payload || payload.type !== \"PRE_NOTIFY\") return;\n    if (Number(payload.userId) !== Number(currentUserId)) return;\n    const mins = payload.minutesUntilStart;\n    const machineName = payload.machineName || `Machine ${payload.machineId}`;\n    alert(`ðŸ”” Hey! Your turn on ${machineName} will start in about ${mins} minute(s). Get ready!`);\n  }\n  function addNewUser() {\n    const name = prompt(\"Enter new username:\");\n    if (!name) return;\n    if (users.some(u => u.name === name)) {\n      alert(\"Username already exists!\");\n      return;\n    }\n    const id = Date.now();\n    setUsers(prev => [...prev, {\n      id,\n      name\n    }]);\n    setCurrentUserId(id);\n  }\n  function totalRemainingSecondsForMachine(m) {\n    var _m$queue;\n    let total = 0;\n    if (m.inUse && m.endTime) total += remainingSeconds(m.endTime);\n    if ((_m$queue = m.queue) !== null && _m$queue !== void 0 && _m$queue.length) {\n      m.queue.forEach(q => {\n        total += (q.minutes || 50) * 60;\n      });\n    }\n    return total;\n  }\n  async function joinQueue(machineId) {\n    const machine = machines.find(m => m.id === machineId);\n    if (!machine) return;\n    const userInAnyMachine = machines.some(mm => Number(mm.currentUserId) === currentUserId || mm.queue && mm.queue.some(q => q.userId === currentUserId));\n    if (userInAnyMachine) {\n      alert(\"You are already using or queued for another machine.\");\n      return;\n    }\n    const queueEntries = machine.queue || [];\n    let queueStr = \"\";\n    if (machine.inUse && machine.currentUserId) {\n      const userObj = users.find(u => u.id === machine.currentUserId);\n      queueStr += `Current: ${userObj ? userObj.name : \"User\" + machine.currentUserId} â€” remaining ${fmtSeconds(remainingSeconds(machine.endTime))}\\n`;\n    }\n    queueEntries.forEach((q, idx) => {\n      const userObj = users.find(u => u.id === q.userId);\n      queueStr += `${idx + 1}. ${userObj ? userObj.name : \"User\" + q.userId} â€” ${q.minutes} min\\n`;\n    });\n    const minutesStr = prompt(`Queue:\\n${queueStr || \"No queued users\"}\\n\\nEnter your wash duration (minutes):`, \"50\");\n    if (!minutesStr) return;\n    const minutes = parseInt(minutesStr, 10) || 50;\n    let totalWaitSec = 0;\n    if (machine.inUse && machine.endTime) totalWaitSec += remainingSeconds(machine.endTime);\n    queueEntries.forEach(q => totalWaitSec += (q.minutes || 50) * 60);\n    const ok = window.confirm(`Total wait before your turn: ${Math.ceil(totalWaitSec / 60)} minutes.\\nJoin queue?`);\n    if (!ok) return;\n    const res = await fetch(\"http://localhost:8080/api/machines/join\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        machineId,\n        userId: currentUserId,\n        minutes\n      })\n    });\n    const j = await res.json();\n    if (j.error) alert(j.error);else {\n      alert(`Joined queue. Position: ${j.position}. You will be notified 2 minutes before your turn.`);\n      fetchMachines();\n    }\n  }\n  async function startWashing(machineId) {\n    const minutesStr = prompt(\"Enter minutes for wash (minutes)\", \"50\");\n    if (!minutesStr) return;\n    const minutes = parseInt(minutesStr, 10) || 50;\n    const res = await fetch(\"http://localhost:8080/api/machines/start\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        machineId,\n        userId: currentUserId,\n        minutes\n      })\n    });\n    const j = await res.json();\n    if (j.error) alert(j.error);else if (j.started) {\n      alert(\"Started: ends at \" + j.endTime);\n      fetchMachines();\n    }\n  }\n\n  // Get queue info for current user\n  const currentUserQueues = machines.map(m => {\n    var _m$queue2;\n    const inQueue = (_m$queue2 = m.queue) === null || _m$queue2 === void 0 ? void 0 : _m$queue2.find(q => q.userId === currentUserId);\n    const isCurrent = m.currentUserId === currentUserId;\n    if (inQueue || isCurrent) {\n      return {\n        machineName: m.name,\n        remaining: isCurrent ? remainingSeconds(m.endTime) : 0,\n        minutes: inQueue === null || inQueue === void 0 ? void 0 : inQueue.minutes,\n        isCurrent\n      };\n    }\n    return null;\n  }).filter(Boolean);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    style: {\n      display: \"flex\",\n      gap: 20\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        flex: 2\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header\",\n        style: {\n          display: \"flex\",\n          justifyContent: \"space-between\",\n          alignItems: \"center\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [\"WashSimple \\u2014 user: \", (_users$find = users.find(u => u.id === currentUserId)) === null || _users$find === void 0 ? void 0 : _users$find.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: addNewUser,\n            children: \"Add New User\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: 12,\n          padding: 12,\n          border: \"1px solid #ccc\",\n          borderRadius: 8,\n          backgroundColor: \"#f7f7f7\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"My Queue Overview\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }, this), currentUserQueues.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"You are not in any machine queue.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 46\n        }, this), currentUserQueues.map((q, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: 8,\n            borderRadius: 6,\n            marginTop: 6,\n            backgroundColor: q.isCurrent ? \"#d4edda\" : \"#fff3cd\",\n            border: q.isCurrent ? \"1px solid #c3e6cb\" : \"1px solid #ffeeba\"\n          },\n          children: [q.machineName, \" \", q.isCurrent ? `- Currently Washing (${fmtSeconds(q.remaining)})` : `- Queued for ${q.minutes} min`]\n        }, idx, true, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          gap: 12,\n          flexWrap: \"wrap\",\n          marginTop: 16\n        },\n        children: machines.map(m => {\n          var _m$queue3;\n          const totalSec = totalRemainingSecondsForMachine(m);\n          const occupied = totalSec > 0;\n          const isOwner = Number(m.currentUserId) === currentUserId;\n          const userInAnyMachine = machines.some(mm => Number(mm.currentUserId) === currentUserId || mm.queue && mm.queue.some(q => q.userId === currentUserId));\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            style: {\n              width: 220,\n              padding: 12,\n              border: \"1px solid #ddd\",\n              borderRadius: 6\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: m.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Status:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 19\n              }, this), \" \", occupied ? \"Occupied\" : \"Free\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Remaining:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 19\n              }, this), \" \", fmtSeconds(totalSec)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Queue:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 19\n              }, this), \" \", ((_m$queue3 = m.queue) === null || _m$queue3 === void 0 ? void 0 : _m$queue3.length) || 0]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: 10\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => joinQueue(m.id),\n                disabled: userInAnyMachine || isOwner,\n                children: \"Join Queue\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => startWashing(m.id),\n                disabled: !isOwner && userInAnyMachine || occupied,\n                style: {\n                  marginLeft: 8\n                },\n                children: isOwner ? \"Start/Extend\" : \"Start\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 17\n            }, this)]\n          }, m.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        flex: 1,\n        maxHeight: \"80vh\",\n        overflowY: \"auto\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Machines Status\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 9\n      }, this), machines.map(m => {\n        var _users$find2;\n        const occupiedSec = remainingSeconds(m.endTime);\n        const queue = m.queue || [];\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            border: \"1px solid #ccc\",\n            borderRadius: 8,\n            padding: 12,\n            marginBottom: 12,\n            backgroundColor: \"#fefefe\",\n            boxShadow: \"1px 1px 6px rgba(0,0,0,0.1)\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: m.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 15\n          }, this), m.inUse && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              height: 4,\n              backgroundColor: \"#28a745\",\n              width: `${Math.min(occupiedSec / 3000 * 100, 100)}%`,\n              transition: \"width 1s linear\",\n              marginTop: 6\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 17\n          }, this), m.inUse && /*#__PURE__*/_jsxDEV(\"small\", {\n            children: [((_users$find2 = users.find(u => u.id === m.currentUserId)) === null || _users$find2 === void 0 ? void 0 : _users$find2.name) || \"User\" + m.currentUserId, \" \", \"- Currently Washing (\", fmtSeconds(occupiedSec), \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 17\n          }, this), queue.map((q, idx) => {\n            var _users$find3;\n            const isNext = idx === 0;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: 6,\n                padding: \"6px 8px\",\n                borderRadius: 6,\n                backgroundColor: isNext ? \"#fff3cd\" : \"#e7f3ff\",\n                border: isNext ? \"1px solid #ffecb5\" : \"1px solid #cce5ff\",\n                fontWeight: isNext ? \"bold\" : \"normal\"\n              },\n              children: [((_users$find3 = users.find(u => u.id === q.userId)) === null || _users$find3 === void 0 ? void 0 : _users$find3.name) || \"User\" + q.userId, \" \", isNext && \"- Next\"]\n            }, q.userId, true, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 19\n            }, this);\n          }), queue.length === 0 && !m.inUse && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: 6,\n              color: \"#777\"\n            },\n            children: \"Free\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 17\n          }, this)]\n        }, m.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 13\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 195,\n    columnNumber: 5\n  }, this);\n}\n_s(Dashboard, \"Sm0D3nLDNI8OT/4oLTFACFwBwEY=\");\n_c = Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useEffect","useState","useRef","SockJS","Client","jsxDEV","_jsxDEV","Dashboard","_s","_users$find","machines","setMachines","users","setUsers","id","name","currentUserId","setCurrentUserId","clientRef","socket","client","webSocketFactory","reconnectDelay","onConnect","subscribe","msg","JSON","parse","body","e","console","error","payload","handleNotification","activate","current","fetchMachines","deactivate","fetch","then","r","json","data","catch","remainingSeconds","endTime","diff","Math","floor","Date","getTime","now","fmtSeconds","totalSec","mins","secs","type","Number","userId","minutesUntilStart","machineName","machineId","alert","addNewUser","prompt","some","u","prev","totalRemainingSecondsForMachine","m","_m$queue","total","inUse","queue","length","forEach","q","minutes","joinQueue","machine","find","userInAnyMachine","mm","queueEntries","queueStr","userObj","idx","minutesStr","parseInt","totalWaitSec","ok","window","confirm","ceil","res","method","headers","stringify","j","position","startWashing","started","currentUserQueues","map","_m$queue2","inQueue","isCurrent","remaining","filter","Boolean","className","style","display","gap","children","flex","justifyContent","alignItems","fileName","_jsxFileName","lineNumber","columnNumber","onClick","marginTop","padding","border","borderRadius","backgroundColor","flexWrap","_m$queue3","occupied","isOwner","width","disabled","marginLeft","maxHeight","overflowY","_users$find2","occupiedSec","marginBottom","boxShadow","height","min","transition","_users$find3","isNext","fontWeight","color","_c","$RefreshReg$"],"sources":["/Users/aniketgaikwad011110/Projects/Wash_Machine/project-wash/frontend/src/Dashboard.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\nimport SockJS from \"sockjs-client\";\nimport { Client } from \"@stomp/stompjs\";\n\nexport default function Dashboard() {\n  const [machines, setMachines] = useState([]);\n  const [users, setUsers] = useState([{ id: 1, name: \"User1\" }]);\n  const [currentUserId, setCurrentUserId] = useState(1);\n  const clientRef = useRef(null);\n\n  useEffect(() => {\n    const socket = new SockJS(\"http://localhost:8080/ws\");\n    const client = new Client({\n      webSocketFactory: () => socket,\n      reconnectDelay: 5000,\n      onConnect: () => {\n        client.subscribe(\"/topic/machines\", (msg) => {\n          try {\n            setMachines(JSON.parse(msg.body));\n          } catch (e) {\n            console.error(\"parse machines\", e);\n          }\n        });\n\n        client.subscribe(\"/topic/notifications\", (msg) => {\n          try {\n            const payload = JSON.parse(msg.body);\n            handleNotification(payload);\n          } catch (e) {\n            console.error(\"parse notification\", e);\n          }\n        });\n      },\n    });\n    client.activate();\n    clientRef.current = client;\n\n    fetchMachines();\n\n    return () => {\n      if (clientRef.current) clientRef.current.deactivate();\n    };\n  }, []);\n\n  function fetchMachines() {\n    fetch(\"http://localhost:8080/api/machines\")\n      .then((r) => r.json())\n      .then((data) => setMachines(data))\n      .catch((e) => console.error(\"fetch machines\", e));\n  }\n\n  function remainingSeconds(endTime) {\n    if (!endTime) return 0;\n    const diff = Math.floor(new Date(endTime).getTime() / 1000 - Date.now() / 1000);\n    return diff > 0 ? diff : 0;\n  }\n\n  function fmtSeconds(totalSec) {\n    if (totalSec <= 0) return \"-\";\n    const mins = Math.floor(totalSec / 60);\n    const secs = totalSec % 60;\n    return `${mins}m ${secs}s`;\n  }\n\n  function handleNotification(payload) {\n    if (!payload || payload.type !== \"PRE_NOTIFY\") return;\n    if (Number(payload.userId) !== Number(currentUserId)) return;\n\n    const mins = payload.minutesUntilStart;\n    const machineName = payload.machineName || `Machine ${payload.machineId}`;\n    alert(\n      `ðŸ”” Hey! Your turn on ${machineName} will start in about ${mins} minute(s). Get ready!`\n    );\n  }\n\n  function addNewUser() {\n    const name = prompt(\"Enter new username:\");\n    if (!name) return;\n    if (users.some((u) => u.name === name)) {\n      alert(\"Username already exists!\");\n      return;\n    }\n    const id = Date.now();\n    setUsers((prev) => [...prev, { id, name }]);\n    setCurrentUserId(id);\n  }\n\n  function totalRemainingSecondsForMachine(m) {\n    let total = 0;\n    if (m.inUse && m.endTime) total += remainingSeconds(m.endTime);\n    if (m.queue?.length) {\n      m.queue.forEach((q) => {\n        total += (q.minutes || 50) * 60;\n      });\n    }\n    return total;\n  }\n\n  async function joinQueue(machineId) {\n    const machine = machines.find((m) => m.id === machineId);\n    if (!machine) return;\n\n    const userInAnyMachine = machines.some(\n      (mm) =>\n        Number(mm.currentUserId) === currentUserId ||\n        (mm.queue && mm.queue.some((q) => q.userId === currentUserId))\n    );\n    if (userInAnyMachine) {\n      alert(\"You are already using or queued for another machine.\");\n      return;\n    }\n\n    const queueEntries = machine.queue || [];\n    let queueStr = \"\";\n    if (machine.inUse && machine.currentUserId) {\n      const userObj = users.find((u) => u.id === machine.currentUserId);\n      queueStr += `Current: ${\n        userObj ? userObj.name : \"User\" + machine.currentUserId\n      } â€” remaining ${fmtSeconds(remainingSeconds(machine.endTime))}\\n`;\n    }\n    queueEntries.forEach((q, idx) => {\n      const userObj = users.find((u) => u.id === q.userId);\n      queueStr += `${idx + 1}. ${userObj ? userObj.name : \"User\" + q.userId} â€” ${\n        q.minutes\n      } min\\n`;\n    });\n\n    const minutesStr = prompt(\n      `Queue:\\n${queueStr || \"No queued users\"}\\n\\nEnter your wash duration (minutes):`,\n      \"50\"\n    );\n    if (!minutesStr) return;\n    const minutes = parseInt(minutesStr, 10) || 50;\n\n    let totalWaitSec = 0;\n    if (machine.inUse && machine.endTime) totalWaitSec += remainingSeconds(machine.endTime);\n    queueEntries.forEach((q) => (totalWaitSec += (q.minutes || 50) * 60));\n\n    const ok = window.confirm(\n      `Total wait before your turn: ${Math.ceil(totalWaitSec / 60)} minutes.\\nJoin queue?`\n    );\n    if (!ok) return;\n\n    const res = await fetch(\"http://localhost:8080/api/machines/join\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ machineId, userId: currentUserId, minutes }),\n    });\n    const j = await res.json();\n    if (j.error) alert(j.error);\n    else {\n      alert(\n        `Joined queue. Position: ${j.position}. You will be notified 2 minutes before your turn.`\n      );\n      fetchMachines();\n    }\n  }\n\n  async function startWashing(machineId) {\n    const minutesStr = prompt(\"Enter minutes for wash (minutes)\", \"50\");\n    if (!minutesStr) return;\n    const minutes = parseInt(minutesStr, 10) || 50;\n\n    const res = await fetch(\"http://localhost:8080/api/machines/start\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ machineId, userId: currentUserId, minutes }),\n    });\n    const j = await res.json();\n    if (j.error) alert(j.error);\n    else if (j.started) {\n      alert(\"Started: ends at \" + j.endTime);\n      fetchMachines();\n    }\n  }\n\n  // Get queue info for current user\n  const currentUserQueues = machines\n    .map((m) => {\n      const inQueue = m.queue?.find((q) => q.userId === currentUserId);\n      const isCurrent = m.currentUserId === currentUserId;\n      if (inQueue || isCurrent) {\n        return {\n          machineName: m.name,\n          remaining: isCurrent ? remainingSeconds(m.endTime) : 0,\n          minutes: inQueue?.minutes,\n          isCurrent,\n        };\n      }\n      return null;\n    })\n    .filter(Boolean);\n\n  return (\n    <div className=\"container\" style={{ display: \"flex\", gap: 20 }}>\n      {/* Left: Machine Cards */}\n      <div style={{ flex: 2 }}>\n        <div\n          className=\"header\"\n          style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\" }}\n        >\n          <div>\n            <h3>WashSimple â€” user: {users.find((u) => u.id === currentUserId)?.name}</h3>\n          </div>\n          <div>\n            <button onClick={addNewUser}>Add New User</button>\n          </div>\n        </div>\n\n        {/* User Queue Top Panel */}\n        <div\n          style={{\n            marginTop: 12,\n            padding: 12,\n            border: \"1px solid #ccc\",\n            borderRadius: 8,\n            backgroundColor: \"#f7f7f7\",\n          }}\n        >\n          <h4>My Queue Overview</h4>\n          {currentUserQueues.length === 0 && <div>You are not in any machine queue.</div>}\n          {currentUserQueues.map((q, idx) => (\n            <div\n              key={idx}\n              style={{\n                padding: 8,\n                borderRadius: 6,\n                marginTop: 6,\n                backgroundColor: q.isCurrent ? \"#d4edda\" : \"#fff3cd\",\n                border: q.isCurrent ? \"1px solid #c3e6cb\" : \"1px solid #ffeeba\",\n              }}\n            >\n              {q.machineName}{\" \"}\n              {q.isCurrent\n                ? `- Currently Washing (${fmtSeconds(q.remaining)})`\n                : `- Queued for ${q.minutes} min`}\n            </div>\n          ))}\n        </div>\n\n        {/* Machines Cards */}\n        <div style={{ display: \"flex\", gap: 12, flexWrap: \"wrap\", marginTop: 16 }}>\n          {machines.map((m) => {\n            const totalSec = totalRemainingSecondsForMachine(m);\n            const occupied = totalSec > 0;\n            const isOwner = Number(m.currentUserId) === currentUserId;\n            const userInAnyMachine = machines.some(\n              (mm) =>\n                Number(mm.currentUserId) === currentUserId ||\n                (mm.queue && mm.queue.some((q) => q.userId === currentUserId))\n            );\n\n            return (\n              <div\n                key={m.id}\n                className=\"card\"\n                style={{ width: 220, padding: 12, border: \"1px solid #ddd\", borderRadius: 6 }}\n              >\n                <h4>{m.name}</h4>\n                <div>\n                  <b>Status:</b> {occupied ? \"Occupied\" : \"Free\"}\n                </div>\n                <div>\n                  <b>Remaining:</b> {fmtSeconds(totalSec)}\n                </div>\n                <div>\n                  <b>Queue:</b> {m.queue?.length || 0}\n                </div>\n\n                <div style={{ marginTop: 10 }}>\n                  <button onClick={() => joinQueue(m.id)} disabled={userInAnyMachine || isOwner}>\n                    Join Queue\n                  </button>\n                  <button\n                    onClick={() => startWashing(m.id)}\n                    disabled={(!isOwner && userInAnyMachine) || occupied}\n                    style={{ marginLeft: 8 }}\n                  >\n                    {isOwner ? \"Start/Extend\" : \"Start\"}\n                  </button>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n\n      {/* Right Panel */}\n      <div style={{ flex: 1, maxHeight: \"80vh\", overflowY: \"auto\" }}>\n        <h4>Machines Status</h4>\n        {machines.map((m) => {\n          const occupiedSec = remainingSeconds(m.endTime);\n          const queue = m.queue || [];\n          return (\n            <div\n              key={m.id}\n              style={{\n                border: \"1px solid #ccc\",\n                borderRadius: 8,\n                padding: 12,\n                marginBottom: 12,\n                backgroundColor: \"#fefefe\",\n                boxShadow: \"1px 1px 6px rgba(0,0,0,0.1)\",\n              }}\n            >\n              <strong>{m.name}</strong>\n              {m.inUse && (\n                <div\n                  style={{\n                    height: 4,\n                    backgroundColor: \"#28a745\",\n                    width: `${Math.min((occupiedSec / 3000) * 100, 100)}%`,\n                    transition: \"width 1s linear\",\n                    marginTop: 6,\n                  }}\n                ></div>\n              )}\n              {m.inUse && (\n                <small>\n                  {users.find((u) => u.id === m.currentUserId)?.name || \"User\" + m.currentUserId}{\" \"}\n                  - Currently Washing ({fmtSeconds(occupiedSec)})\n                </small>\n              )}\n\n              {/* Queue users */}\n              {queue.map((q, idx) => {\n                const isNext = idx === 0;\n                return (\n                  <div\n                    key={q.userId}\n                    style={{\n                      marginTop: 6,\n                      padding: \"6px 8px\",\n                      borderRadius: 6,\n                      backgroundColor: isNext ? \"#fff3cd\" : \"#e7f3ff\",\n                      border: isNext ? \"1px solid #ffecb5\" : \"1px solid #cce5ff\",\n                      fontWeight: isNext ? \"bold\" : \"normal\",\n                    }}\n                  >\n                    {users.find((u) => u.id === q.userId)?.name || \"User\" + q.userId}{\" \"}\n                    {isNext && \"- Next\"}\n                  </div>\n                );\n              })}\n              {queue.length === 0 && !m.inUse && (\n                <div style={{ marginTop: 6, color: \"#777\" }}>Free</div>\n              )}\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}